<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>国家、城市联动</title>
<script src="js/jquery.js"></script>
<script>
$(function () {
    var cityHtml = '';
    var $options = $('[name="house[city_id]"] option');
    function findKeyNameByCountry(country) {
        if (country == 0) {
            $('[name="house[city_id]"]').html($options);
            return;
        }
        $('[name="house[city_id]"]').html($options.filter('[country_id="'+country+'"]'));
    }
    $('[name="house[country_id]"]').on('change', function () {
        findKeyNameByCountry($(this).val());
    }).trigger('change');
});
</script>
</head>
<body>
<select name="house[country_id]" class="normal_select">
    <option value='0'>全部</option>
    <option value='1'>英国</option>
    <option value='2' selected="selected">美国</option>
    <option value='3'>加拿大</option>
    <option value='4'>澳洲</option>
    <option value='5'>新西兰</option>
</select>
<select name="house[city_id]" class="normal_select">
    <option value="0">全部</option>
    <option value="2" country_id="2">西雅图</option>
    <option value="3" country_id="3">温哥华</option>
    <option value="4" country_id="2">旧金山</option>
    <option value="7" country_id="3">蒙特利尔</option>
    <option value="8" country_id="1">伦敦</option>
    <option value="9" country_id="1">伯明翰</option>
    <option value="10" country_id="1">利物浦</option>
    <option value="11" country_id="1">曼彻斯特</option>
    <option value="12" country_id="2">纽约</option>
    <option value="13" country_id="2">洛杉矶</option>
    <option value="14" country_id="3">多伦多</option>
    <option value="15" country_id="3">卡尔加里</option>
    <option value="16" country_id="4">布里斯班</option>
    <option value="17" country_id="4">墨尔本</option>
    <option value="18" country_id="4">悉尼</option>
    <option value="19" country_id="5">奥克兰</option>
</select>
</body>
</html>